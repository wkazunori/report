#システムアーキテクト強化研修

2014/1/14-1/16に受講したシステムアーキテクト強化研修の振り返りまとめ（特に印象に残った部分のみ）

#### 講師
* 水野匡章さん
* カンザス州立大学 コンピュータサイエンス学科教授



## アーキテクトの重要性
### アーキテクトとは
* プロジェクト内の最高のプログラマー（達）で、最重要部分のコーディングを行い、実際にシステムを動かす中心人物・責任者（達）

### 役割
* 要件のヒアリング
 * 実装方法を頭に浮かべられないSEは要件をヒアリング出来ない
* ソフトウェア全体の構成を効率良く綺麗なものにする
* 機能追加ごとに、必要ならばそれに適するようにアーキテクチャの改善を行い、ソフトウエア製品のブラックボックス化を防ぐ

### 必要な能力
* プログラミング言語の高度な知識
 * メモリー上でのオブジェクトや変数の動き
 * CやC++の場合、アセンブリコードがどう生成されるのか
* 様々なデータ構造やアルゴリズム
* パターン化されたものを使いこなせる知識
 * デザインパターン
 * アーキテクチャパターン
* OSの中身の動きの理解
* オブジェクト思考であれば、UMLを正しく作成できる知識
* ドメイン知識

### アーキテクトを育てるには
* 企業が、プログラマはチープ・レイバーではなく、知的職業であるという認識を持ち、技能に見合った待遇を与える
 * 1人のスーパープログラマーを複数の平凡なプログラマで置き換える事は出来ない
* マネージャーとアーキテクトの別々のキャリアパスを用意する
 * 優秀なマネージャと優秀なアーキテクトの両方を、別の人材で育てていく
 * マネージャーが偉くて、プログラマが下という考えを捨てる
* プログラマには残業をさせるより、勉強する時間や機会を与える
 * その方が短期間に生産性は圧倒的に向上する
 * 例)googleの20％ルール

## RUP
* 水野さんが、生産性を上げるうえでもっとも理にかなっていると考える、ソフトウェアの開発手法
* 上流→下流という階層構造で開発を行わない
* 3つの柱
 * ユースケース駆動
 * アーキテクチャ中心
 * 繰り返しによる開発

### ユースケース駆動
* 要求仕様（ユースケース）をはっきり決めて、それを基に以降の設計・実装・テストから成るプロセスを推進
* 設計図が最終コードをかなりのレベルで規定（設計8割、実装2割）
 * Jacobsonが提唱
 * 現在はプログラミングと実装にかける時間が長過ぎる
 * しっかり設計してから実装すれば、デバックにかかる時間はほとんどなくなる
 * デバックの時間が短くなれば、もっと実装は楽しくなる

### アーキテクチャ中心
* アーキテクチャとは、システムの最重要機能をカバーする、あるいは開発行程で最もリスクが大きいと思われる要求仕様(全体の10％くらいと言われている)の実装・設計
* なぜアーキテクチャが必要か
 * システムを深く理解するため
 * 開発を系統立てるため
 * 再利用を促進するため
 * システムの成長を容易にするため
* アーキテクチャが出来た時点で、致命的なリスクはゼロ
* 良いアーキテクチャを作るために、開発スケジュールの最初の部分にかなり長い時間を費やす
 * 良いアーキテクチャを最初に作り、それがその後の開発フェーズを誘導していくという開発手法はトータルの開発時間を相当短縮する

### 繰り返しによる開発
* 以下の4つのフェーズを何度も繰り返しながら進行する
 * 方向付け(ビジネス観点での評価)
 * 推敲(見積もり)
 * 実装
 * 移行(製品リリース)
* 重大なリスクを初期の段階の繰り返しで無くしたり少なくしたりする
 * 作成フェーズでは、ほとんどのリスクが無くなっており、開発はスムーズに進む

### ウォーターフォールとの比較
* ウォーターフォールでは、重大なリスクが開発の終盤になって露呈する
 * 結果として、後から優秀な人材が「火消し」としてプロジェクトに投入されるケースが多い
 * RUPでは優秀なアーキテクトがはじめに良いアーキテクチャを作るので、後から重大なリスクが露呈することは少ない
 
## オブジェクト指向
* 実行時のメモリイメージを理解する
 * スタック、ヒープ、スタティック領域の理解
* ポリモフィズム
 * ポリモフィズムこそがオブジェクト指向設計の要
* デザインパターンを使う
 * Gofの23パターンを使う（他にも多数あるが、他は23パターンの変形）
 * デザインパターンは考え出されたものではなく、拡張性、保守性、再利用性などに優れた実際に存在する多数のソフトウェアを調べ、それらに共通する構造を見つけ出し、抽象化したもの
 * 本質的なポイントは、結合度を下げることにより再利用性を高める
 * ポリモフィズムが実装の基本
 * デザインパターンを使うべきところで使っていないのはあり得ない！(水野さん)
* クラス図
 * システムの構成を理解するのに必須
 * クラス図がないシステムの改修を行うときは、まずはクラス図の作成から取り組むべき

## リファクタリングの重要性
 * ソフトウェアの開発には「根本的なつくりかえをせずに、長期間にわたり、少しずつ機能の追加を行う」という特質がある
 * そのため、長期的に中心構造がだんだんと現在の機能のセットにあわなくなってしまったり、中心部分がブラックボックス化してしまうケースが多い
 * 巨大なブラックボックスの表面に少しずつ機能を追加していくという対処療法をとり続け、大きな変革が必要になった時に対応できなくなる危険がある
 * 「巨大なブラックボックス化」を防ぐために継続したリファクタリングが必須

## 優秀な技術者になるために
* 単なる概要ではなく、ソースコードのレベルでプログラムを理解する
* OSのレベルでプログラムを理解する
 * 自分のプログラムが実行された時にシステムで何が起こっているのか把握できないといけない
* 正確な知識と経験を持つ
 * 正確な知識がなければ経験を積んでも価値は少ない
 * 例)デザインパターンを知らなければ、いくらJavaFoundationClassLibrayのコードを読んでも理解できない。デザインパターンを知ってから読むと、コードの理解が出来、ますます知識は増える。
